# suppress inspection "UnusedProperty" for whole file

path_ancestors = class.ancestors

exists_invocation = (top_items -> exists((qty > 10)))

select_invocation = (top_items -> select((name = "this")))
select_invocation_nested = ((top_items -> select((name = "this"))) -> select((qty > 10)))
select_invocation_nested_nested = (((top_items -> select((name = "this"))) -> select((qty > 10))) -> select((number <= 10)))
select_invocation_intermediate = ((top_orders -> select((items -> exists((qty > 10))))) -> select((total > 100)))

reject_invocation = (top_items -> reject((name = "this")))

yield_invocation = ((top_orders -> collect(items)) -> flatten())
yield_invocation_distinct = (((top_orders -> collect(items.product)) -> flatten()) -> asSet())

recurse_ancestors = ((class -> closure(ancestors)) -> flatten())
recurse_distinct = (((class -> closure(ancestors)) -> flatten()) -> asSet())
recurse_children = (((children -> closure(children)) -> flatten()) -> select((ranking > 10)))

enumeration = (top_orders -> select(order | (order.total > 100)))
enumeration_yield = ((top_orders -> collect(order | order.items)) -> flatten())
enumeration_nested = (((join(top_orders, goldCustomers) -> select(order; goldCustomer | ((order.customer = goldCustomer) and (order.total > 1000)))) -> collect(order; goldCustomer | order.customer.name)) -> flatten())
