class BookImpl implements Book
{
    private final Base base;
    private final Product product;
    private final StockItem stockItem;

    private final String title;

    public BookImpl(Base base, Product product, StockItem stockItem, String title)
    {
        this.base = base;
        this.product = product;
        this.stockItem = stockItem;
        this.title = title;
    }

    public String getTitle()
    {
        return this.title;
    }

    public String getBaseAbstractProperty()
    {
        return "3";
    }

    public String getAbstractProperty()
    {
        return null;
    }

    public String getDescription()
    {
        return this.product.getDescription();
    }

    public String getBaseConcreteProperty()
    {
        return this.base.getBaseConcreteProperty();
    }

    public String getDerivedBaseProperty()
    {
        return this.base.getDerivedBaseProperty();
    }

    public int getQuantity()
    {
        return this.stockItem.getQuantity();
    }

    public String toString()
    {
        return new StringBuilder(Book.class.getSimpleName())
                   .append('(')
                   .append("title=").append(String.format("\"%s\"", getTitle())).append(", ")
                   .append("baseAbstractProperty=").append(String.format("\"%s\"", getBaseAbstractProperty())).append(", ")
                   .append("abstractProperty=").append(String.format("\"%s\"", getAbstractProperty())).append(", ")
                   .append("description=").append(String.format("\"%s\"", getDescription())).append(", ")
                   .append("baseConcreteProperty=").append(String.format("\"%s\"", getBaseConcreteProperty())).append(", ")
                   .append("derivedBaseProperty=").append(String.format("\"%s\"", getDerivedBaseProperty())).append(", ")
                   .append("quantity=").append(String.format("\"%s\"", getQuantity()))
                   .append(')')
                   .toString();
    }
}